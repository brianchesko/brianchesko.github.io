/*! brianCheskoWebpage v0.1.0 | (c) 2021 Brian Chesko | MIT License */
Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),console.log("onload.js executed");const e=document.getElementById("banner_wrapper"),t=[document.getElementById("banner_image1"),document.getElementById("banner_image2")],o=["grad-stair-gradient.jpg","moon.jpg","ocean.jpg"];var n=void 0;if(e){e.classList.add("active");let n=0,a=0;const s=o.length;setTimeout((()=>{setInterval((()=>{const e=t[a];a=(a+1)%2;const c=t[a];c.classList.add("banner_image__active"),e.classList.remove("banner_image__active"),n=(n+1)%s,c.src=`./img/${o[n]}`}),3250)}),1e3)}const a=[],s=(e,t)=>{const o=e[t].caption,n=e.length>1;if(o||n){const a=(o?"(":"")+`${t+1}/${e.length}`+(o?")":"");return[n&&a,o].filter((e=>e)).join(" ")}},c=(e,t,o)=>{console.log("Advancing gallery to position",o),Array.from(t.getElementsByClassName("project-multimedia_item")).forEach((e=>{e.setAttribute("style",`transform: translateX(-${100*o}%)`)}));const n=t.parentElement.getElementsByClassName("project-multimedia_caption")[0];n&&(n.classList.remove("project-multimedia_caption__active"),a.forEach((e=>clearTimeout(e))),a.push(setTimeout((()=>{n.innerText=s(e,o),n.classList.add("project-multimedia_caption__active")}),350)))},r=e=>{const t=document.createElement("img");return t.setAttribute("src",e.src),t.addEventListener("click",(()=>(e=>{const t=document.getElementById("image-modal"),o=document.getElementById("image-modal_image"),n=document.getElementById("image-modal_caption");t.classList.add("image-modal__visible"),o.setAttribute("src",e.src),n.firstChild&&n.firstChild.remove(),e.caption&&n.appendChild(document.createTextNode(e.caption))})(e))),t},i=e=>{if(n!=e)return;console.log(`Collapsing ${e}`),n=void 0;const t=`portfolio_${e}`,o=document.getElementById(t);o.classList.remove("portfolio_project-wrapper__expanded");o.getElementsByClassName("portfolio_project-content")[0].style.removeProperty("max-height");const a=o.getElementsByClassName("portfolio_project-expand-collapse-arrow")[0];a&&(a.src="https://img.icons8.com/material/24/000000/expand-arrow--v3.png",a.alt="Expand",a.classList.remove("portfolio_project-expand-collapse-arrow__expanded"))},l=(e,t)=>{const o={},a={},l=document.getElementById("portfolio_all-projects"),d=e=>{e.addEventListener("click",(e=>{const t=e.currentTarget.id,a=t.includes("portfolio_")&&t.replace("portfolio_",""),s=o[a];a&&s&&n!=a&&(e.stopPropagation(),(e=>{n&&e!=n&&i(n),console.log(`Expanding ${e}`),n=e;const t=`portfolio_${e}`,o=document.getElementById(t);o.classList.add("portfolio_project-wrapper__expanded");const a=o.getElementsByClassName("portfolio_project-content")[0];a.style.maxHeight=`calc(${a.scrollHeight}px + 5em)`;const s=o.getElementsByClassName("portfolio_project-expand-collapse-arrow")[0];s&&(s.src="https://img.icons8.com/material/20/000000/collapse-arrow--v3.png",s.alt="Collapse",s.classList.add("portfolio_project-expand-collapse-arrow__expanded"))})(a))}),!1)},m=(e,o)=>{const n=document.createElement("div");n.className="portfolio_project-skills-wrapper";return(e.skills||[]).forEach((e=>{const o=(e=>{const t=[];for(let[o,n]of Object.entries(a))n.has(e)&&t.push(o);return t})(e.toLowerCase()).map((e=>t[e])),s=document.createElement("span");if(s.className="skills_item",s.appendChild(document.createTextNode(e)),o.length)if(o.length>1){const e=100/o.length,t=o.map((e=>e.color)).reduce(((t,o,n)=>(t.push(`${o} ${e*n}%`,`${o} ${e*(n+1)}%`),t)),[]);s.style=`background: linear-gradient(135deg, ${t})`}else s.style=`background-color: ${o[0].color}`;n.append(s)})),o.appendChild(n),n},p=e=>{const t=document.createElement("div");t.id=`portfolio_${e.id}`,t.classList.add("portfolio_project-wrapper");const o=document.createElement("h3");o.classList.add("portfolio_project-heading");const a=document.createElement("div");a.className="portfolio_project-content";const p=document.createElement("span");p.classList.add("portfolio_project-heading-text"),p.innerText=e.name;const u=document.createElement("img");if(u.classList.add("portfolio_project-expand-collapse-arrow"),u.src="https://img.icons8.com/material/24/000000/expand-arrow--v3.png",u.alt="Expand",o.appendChild(p),o.appendChild(u),t.appendChild(o),e.description){const t=document.createElement("p");t.classList.add("portfolio_project-desc"),t.innerText=e.description,a.appendChild(t)}if(e.skills&&m(e,a),e.multimedia){const t=document.createElement("div");t.classList.add("project-multimedia_wrapper");const o=document.createElement("span");o.classList.add("project-multimedia_gallery");let n=0,i=0,l=[];e.multimedia.forEach((e=>{const t=e.type;let n;switch(t){case"image":n=r(e);break;case"youtube":n=(e=>{const t=document.createElement("iframe");return t.setAttribute("src",e.src),t.setAttribute("title","Embedded YouTube Player"),t.setAttribute("frameborder",0),t.setAttribute("allow","clipboard-write; encrypted-media;"),t.setAttribute("allowfullscreen","true"),t})(e);break;case"video":n=(e=>{const t=document.createElement("video"),o=e.src;return(Array.isArray(o)?o:[o]).forEach((e=>{const o=document.createElement("source");o.setAttribute("src",e.src),o.setAttribute("type",e.mime),t.appendChild(o)})),t.appendChild(document.createTextNode("Your browser does not support video elements.")),t})(e);break;case"pdf":n=(e=>{const t=document.createElement("iframe");return t.setAttribute("src",e.src),t})(e);break;default:n=void 0}n&&(n.classList.add("project-multimedia_item"),n.classList.add(`project-multimedia_item__${t}`),o.appendChild(n),l.push(e),e.caption&&i++)}));const d=l.length;if(d){if(d>1){const e=document.createElement("button"),a=document.createElement("button");e.classList.add("project-multimedia_button","project-multimedia_button__prev"),a.classList.add("project-multimedia_button","project-multimedia_button__next"),e.addEventListener("click",(()=>{n=(n-1+d)%d,c(l,o,n)})),a.addEventListener("click",(()=>{n=(n+1)%d,c(l,o,n)})),t.appendChild(e),t.appendChild(a)}if(t.appendChild(o),i>0){const e=document.createElement("span");e.classList.add("project-multimedia_caption");const o=s(l,0);o&&(e.classList.add("project-multimedia_caption__active"),e.innerText=o),t.appendChild(e)}a.appendChild(t)}}return t.appendChild(a),l.appendChild(t),d(t),o.addEventListener("click",(e=>{const t=e.currentTarget.parentElement.id,o=t.includes("portfolio_")&&t.replace("portfolio_","");n==o&&(e.stopPropagation(),i(o))}),!1),t};document.getElementById("portfolio_placeholder").remove(),Object.entries(t).forEach((([e,t])=>{a[e]=new Set(t.items)})),e.forEach((e=>{o[e.id]=e,p(e)}))},d=e=>{const t=document.createElement("div");t.classList.add("resume-line");const o=document.createElement("div");o.classList.add("resume-line_title");const n=document.createElement("h3"),a=document.createElement("h4"),s=document.createElement("h4"),c=document.createElement("h4");n.innerText=e.position,a.innerText=e.company,s.innerText=e.location,c.innerText=e.date,o.appendChild(n),o.appendChild(a),o.appendChild(s),o.appendChild(c);const r=document.createElement("div");return r.classList.add("resume-line_description"),e.description.split("\n").forEach((e=>{const t=document.createElement("p");t.innerText=e,r.appendChild(t)})),t.appendChild(o),t.appendChild(r),t};var m=new XMLHttpRequest;m.open("GET","./resume-data.json",!0),m.responseType="json",m.send(null),m.onreadystatechange=()=>{if(4===m.readyState&&200===m.status){const e=m.response;console.log("Resume data loaded",e),l(e.projects,e.skills),(e=>{const t=document.getElementById("internships");e.forEach((e=>{const o=d(e);t.appendChild(o)})),document.getElementById("resume-internship-placeholder").remove()})(e.internships),(e=>{const t=document.getElementById("work");e.forEach((e=>{const o=d(e);t.appendChild(o)})),document.getElementById("resume-work-placeholder").remove()})(e.jobs)}};const p=e=>{if(e.target!=e.currentTarget)return;document.getElementById("image-modal").classList.remove("image-modal__visible")};document.getElementById("coursework_show-btn").addEventListener("click",(()=>{const e=document.getElementById("coursework_show-btn"),t=document.getElementById("coursework_list");e.classList.contains("visible")?e.innerText="show":e.innerText="hide",e.classList.toggle("visible"),t.classList.toggle("visible")}),!1),document.getElementById("image-modal").addEventListener("click",p,!1),document.getElementById("image-modal_close-button").addEventListener("click",p);
